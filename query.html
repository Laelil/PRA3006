<!DOCTYPE html>
<html lang="en">
<head>
  <title>Example</title>
  <!-- Initialize a global WBK function -->
  <script src="https://cdn.rawgit.com/maxlath/wikidata-sdk/dist/dist/wikibase-sdk.min.js"></script>
  <!-- Initialize a global wdk object using the WBK object -->
  <script src="https://cdn.rawgit.com/maxlath/wikidata-sdk/dist/dist/wikidata-sdk.min.js"></script>
</head>

<body>
  <pre id="output"></pre>
  <script>
    query = `SELECT  ?drug ?drugLabel 
        ?drugClass ?drugClassLabel 
        ?roleOfDrug ?roleOfDrugLabel 
        ?otherDiseaseTreated ?otherDiseaseTreatedLabel 
        ?significantDrugDrugInteractions ?significantDrugDrugInteractionsLabel
        ?chemicalStructure ?chemicalStructureLabel
        ?chemicalFormula 
        ?molInteractsWith ?molInteractsWithLabel
        ?involvedInBiologicalProcess ?involvedInBiologicalProcessLabel

WHERE 
{
  wd:Q202387 wdt:P2176 ?drug.                                 # list of all the drugs used to treat PTSD
  ?drug wdt:P279 ?drugClass.                                  # the class to which the drug belongs
  ?drug wdt:P2868 ?roleofDrug.                                # the role of the drug (within the class?)
  ?drug wdt:P2175 ?otherDiseaseTreated.                       # what other disease / conditions the drug can treat
  ?drug wdt:P274 ?chemicalFormula                             # chemical formula                         

 SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
}`;
    const url = wdk.sparqlQuery(query)
    async function main () {
      const response = await fetch(url)
      const results = await response.json()
      document.getElementById('output').innerHTML =
        JSON.stringify(results, undefined, 2);
    }
    main()
  </script>
</body>
</html>
  </script>
</body>
</html>
